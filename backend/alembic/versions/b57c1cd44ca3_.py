"""

Revision ID: b57c1cd44ca3
Revises: c780ca6b0a57
Create Date: 2026-01-25 13:02:50.734343

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = 'b57c1cd44ca3'
down_revision: Union[str, Sequence[str], None] = 'c780ca6b0a57'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    tags_table = sa.table('tags',
        sa.column('id', sa.Integer),
        sa.column('title', sa.String),
        sa.column('regular_expression', sa.String),
        sa.column('value', sa.Integer)
    )

    op.bulk_insert(
        tags_table,
        [
            {'id': 1, 'title': 'психиатр не нужен',
             'regular_expression': 'есть психиат(р|ор)|наблюда\\w+ у психиат|к психиат\\w+ ходил|у психиат\\w+ был|был у психиат|по рекомендации психиат|психиат\\w+ (рекомендовал|назначил|поставил|посоветовал|направил|диагностировал)',
             'value': 0},
            {'id': 2, 'title': 'логопед/нейропсихолог',
             'regular_expression': 'логопед|нейропсихолог|\\bзпр\\b|задержка речи|задержка психического развития|дефектолог|заика|дислекс',
             'value': 10},
            {'id': 4, 'title': 'психиатр',
             'regular_expression': '(порекомендуйте|ищу|нужен|требуется|посоветуйте) (психиат|врач)|психоз\\w+|галлюцина\\w+|\\bбред|(запрос|нужно|может|чтобы|мог бы) (поставить|подтвердить|опровергнуть|подтвердить или опровергнуть) диагноз|(для|ради|с целью) (уточнения|постановки|выяснения) диагноз|для диагностики|(нужна|требуется) диагностика|(возможност\\w+|запрос (на)?|нужно|может|мог бы|требуется) (назначить|выписать|назначать|выписывать|подобрать|подбор) (лечен|таблет|лекарств|антидепрессант|медикамент)|(таблет|лекарств|антидепрессант|) (назначить|выписать|назначать|выписывать|подобрать)|выпис\\w+ рецепт',
             'value': 50},
            {'id': 5, 'title': 'БАР', 'regular_expression': '\\bБАР\\b|биполяр\\w+|маниак\\w+| мани[ия]|гипоман\\w+',
             'value': 8},
            {'id': 6, 'title': 'детский аутизм', 'regular_expression': 'детск\\w+ аутизм|аутиз\\w+ у ребенка',
             'value': 8},
            {'id': 7, 'title': 'ПРЛ',
             'regular_expression': '\\bпрл\\b|пограничк\\w+|пограничн\\w+ расстройств\\w+|эмоционально неустойч\\w+',
             'value': 7},
            {'id': 8, 'title': 'импульсивность',
             'regular_expression': 'импульсивн|украл|ворует|крадет|клептоман|покупки', 'value': 6},
            {'id': 9, 'title': 'горе',
             'regular_expression': 'гореван\\w+|гор[ея]|утрат[ауы]|после смерти|муж пропал|пропал(а)? без вести|\\bумер\\b|после гибели|погиб\\b|cмерть|выкидыш|потер\\w+ (ребенка|младенца|семьи|мужа)',
             'value': 6},
            {'id': 10, 'title': 'анорексия',
             'regular_expression': 'анорекс\\w+|похудел|отказывается от еды|(стрем\\w+|пытает) похудеть|голода',
             'value': 10},
            {'id': 11, 'title': 'переедание',
             'regular_expression': '\\bРПП\\b|булим\\w+|рвоту|мочегон|перееда\\w+|(набор|набрал|лишний|нормализ\\w+|восстанов\\w+) вес|\\bед(а|ой)\\b|пищево|\\bзае(сть|даю|дает)',
             'value': 7},
            {'id': 12, 'title': 'НРЛ', 'regular_expression': 'нарцисс|нарциссич\\w+ расстройств\\w+|НРЛ', 'value': 5},
            {'id': 13, 'title': 'сексология', 'regular_expression': 'секс|либидо|эрекц|оргазм|полов\\w+ влеч\\w+',
             'value': 4},
            {'id': 14, 'title': 'ОКР',
             'regular_expression': '\\bокр\\b|трихотил\\w+|ритуал\\w+?|дерматил\\w|навязчив\\w+|обсесс\\w+|компульс\\w+',
             'value': 7},
            {'id': 15, 'title': 'социофобия',
             'regular_expression': 'социофоб|стеснит\\w+|застенчив\\w+|социализ\\w+|неуверен|социальн\\w+ трево|стресс в компании|(стресс|страх|дискомфорт) (в окружении|среди|в присутствии|от внимания|) людей|публи[кч]|прояв\\w+ себя',
             'value': 5},
            {'id': 16, 'title': 'тревога',
             'regular_expression': '\\bГТР\\b|панич\\w+|паник\\w+|трево\\w+|страх|\\bПА\\b', 'value': 5},
            {'id': 17, 'title': 'депрессия',
             'regular_expression': 'депрес|апати\\w+|радоваться|радост|ангедон\\w+|подавленност\\w+|одиночеств|(отсутсв\\w+|утрат\\w+|потер\\w+) (интерес|сил|желания делать|смысл)|дел\\w+(,)? которые раньше нрав|(снижен\\w+|подав\\w+|плох\\w+|паршив\\w+) настроен|усталост|ничего не дел|лень',
             'value': 5},
            {'id': 18, 'title': 'сомнология',
             'regular_expression': 'бессониц\\w+|не могу уснуть|(наруш\\w+|расстройств\\w+|пропал|плох\\w+) (сна|сон)|со сном|засыпа',
             'value': 9},
            {'id': 19, 'title': 'хроническая боль', 'regular_expression': '\\bболи\\b|болево\\w+|\\bболь\\b|болит',
             'value': 6},
            {'id': 20, 'title': 'психосоматика',
             'regular_expression': 'психосом\\w+|СРК|кишечн\\w+|поясни\\w+|щитовид\\w+|ипохонд|сенсо\\w+|соматич\\w+|телесн\\w+ ощущен\\w+|врачи не (нашли|находят)|\\bсху\\b|хрон\\w+ усталост|трево\\w+ (о|за) здоровье|иммун|кардионевроз',
             'value': 4},
            {'id': 21, 'title': 'РЭПТ',
             'regular_expression': '\\bРЭПТ\\b|рациональн\\w+-эмотивн\\w+ поведенч|\\bРЭБТ\\b|рациональн\\w+-эмотивн\\w+ бихевиорал',
             'value': 1},
            {'id': 22, 'title': 'гэмблинг', 'regular_expression': 'гэмблинг|лудоман\\w+|игров\\w+ зависимост\\w+',
             'value': 8},
            {'id': 23, 'title': 'травма',
             'regular_expression': 'ПТСР|изнасилов\\w+|травм|фл[еэ]шб[еэ]к|опыт(ом)? насилия|буллинг|дереал\\w+',
             'value': 7},
            {'id': 24, 'title': 'отношения',
             'regular_expression': 'расставан\\w+|расстал\\w+|границ|срывается на |скандал|отношен|конфликт|муж изменяет|муж изменил\\b|жена изменяет|(жена|девушка|муж|человек|) изменил|ревност|\\bссор|довер\\w+|врань\\w+|развод|коммуникац|недопониман|окружающи[ех]|обид|взаимо\\w++ с (людьми|окружающими|другими|близкими)|сепараци|личн\\w+ жизн|созависим|взаимопониман|оскорб|шантаж|партнер|предательств|предал|страдают близкие|дружить|грубит',
             'value': 2},
            {'id': 25, 'title': 'семейная терапия',
             'regular_expression': 'семейн\\w+ (терап|психолог)|\\bпар[аы]\\b|направ\\w+ (семью|пару)|семейн(ой|ую) пар|парн\\w+ психолог|работ\\w+ с пар(ами|ой)',
             'value': 10},
            {'id': 26, 'title': 'энурез/энкопрез', 'regular_expression': 'энурез|энкопрез|писается|какается|недержание',
             'value': 10},
            {'id': 27, 'title': 'психодинамическая терапия', 'regular_expression': 'психодинам', 'value': 1},
            {'id': 28, 'title': 'эмоциональная регуляция',
             'regular_expression': 'истери\\w+|эмоциональн\\w+  перепад\\w+|неустойчив\\w+ псих.эмоционально\\w+ состояни\\w+|внутренн...опор.|самокрит|критичность к себе|обесценива\\w+ себя|самоценн\\w+|самооцен\\w+|злост[ьи]|раздражени.|распозна\\w+ эмоц\\+|поним\\w+ эмоц\\w+|свои эмоц\\w+|своих эмоц\\w+|себя загон|много переживаний|эмоц\\w+ качел\\w+|качели|сво. нужность|(перемен\\w+|перепад\\w+|прыгает|нестабильн\\w+) (настроени|эмоци|состояни)|вспышки (злости|агрессии|раздражения)|стыд|(принят\\w+|любит\\w+) себя|любовь к себе|не вывожу|жд\\w+ подвох|управля\\w+ эмоц|подавл\\w+ эмоц|агресс|снять кризисное состояние|ущербност|синдром\\w+ самозванца|эмоц\\w+|себя наказ\\w+|наказ\\w+ себя|самонаказ\\+',
             'value': 4},
            {'id': 29, 'title': 'выгорание', 'regular_expression': 'выгор\\w+|трудогол', 'value': 1},
            {'id': 30, 'title': 'нейроотличия, РАС',
             'regular_expression': '\\bрас\\b|аутист\\w+|аутизм|аспергер|мелтдаун', 'value':
                 7},
            {'id': 31, 'title': 'СДВГ',
             'regular_expression': 'СДВГ|гиперактивн\\w+|дефицит внимания|дефицит\\w+ внимания|отвлека|концентрац|дисциплин|гипер активн|ADHD',
             'value': 7},
            {'id': 32, 'title': 'зависимости',
             'regular_expression': '\\bзависим(ость|ог\\w+|ый|ых)|выпива|напива|наркот|наркозавис|психоактив|аддик[тц]|\\bПАВ\\b|амфетамин|мефедрон|психодел|подсел|алкогол|вещества|трезв|курени|\\bкурит\\b|таба[кч]|марихуан',
             'value': 8},
            {'id': 33, 'title': 'коучинг', 'regular_expression': 'коуч|бизнес', 'value': 1},
            {'id': 34, 'title': 'дисморфофобия',
             'regular_expression': 'пластическ|(любовь|отвращение) к (собственному|своему)? телу|дисморф|образ\\w+ тела|прин\\w+ (своего)? тела|своего тела',
             'value': 6},
            {'id': 35, 'title': 'геронтолог', 'regular_expression': 'геронтолог|деменц|альцгеймер', 'value': 5},
            {'id': 36, 'title': 'АСТ',
             'regular_expression': '\\bАСТ\\b|\\bACT\\b|\\bТПО\\b|терап\\w+ принят\\w+ и ответств\\w+', 'value': 1},
            {'id': 37, 'title': 'ДБТ',
             'regular_expression': '\\bДБТ\\b|\\bДПТ\\b|\\bDBT\\b|диалект\\w+-поведенч|диалект\\w+-бихевиорал',
             'value': 1},
            {'id': 38, 'title': 'КПТ',
             'regular_expression': 'когнитив\\w+-поведенч|когнитив\\w+-бихевиорал|\\bкпт\\b|\\bКБТ\\b', 'value': 1},
            {'id': 39, 'title': 'психоанализ', 'regular_expression': 'психоанали', 'value': 1},
            {'id': 40, 'title': 'схема-терапия', 'regular_expression': 'схема', 'value': 1},
            {'id': 41, 'title': 'авторы насилия', 'regular_expression': 'драк|распускает|избил|антисоц\\w+|убить',
             'value': 8},
            {'id': 42, 'title': 'супервизор',
             'regular_expression': '(порекомендуйте|ищу|нужен|требуется|посоветуйте) супервизор', 'value': 0},
            {'id': 43, 'title': 'групповая терапия', 'regular_expression': 'групп', 'value': 4},
            {'id': 44, 'title': 'селфхарм/суицид',
             'regular_expression': 'самоубийст|селфхарм|селф.харм|дума\\w+ о смерти|суицид|самопорез|напилась таблеток|самоповрежд|режусь|\\bрежет|прижига\\w+|(колотит|ударить|бьет) себя|бью (себя|стен)|не хо[тч]\\w+ жить|порез|(режет|резать|режу) себя|вредит себе',
             'value': 9},
            {'id': 45, 'title': 'эмиграция', 'regular_expression': 'иммиграц|релока|в другую страну', 'value': 2},
            {'id': 46, 'title': 'трудовая адаптация',
             'regular_expression': 'не (могу|может) (учиться|работать|устроиться на работу)|выб\\w+ (жизненного пути|профессии|вуз)|желан\\w+ учиться|проблемы в уч[её]бе|поис\\w+ работы|найти работу|удержаться на работе|успеваемост|экзамен|нежелан\\w+ работать|\\bЕГЭ\\b|\\bОГЭ\\b|не учусь|в профессиональной сфере|самореализ|нет работы|отстает по (программе|учебе)|(мало|недостат\\w+|нет|не хватает) мотивации|(не сформирована|отсутствует) мотивация',
             'value': 5},
            {'id': 47, 'title': 'сверхконтроль',
             'regular_expression': 'состоян\\w+ контрол\\w+|гиперконтрол\\w+|чрезмерн\\w+ контрол\\w+|перфекциони|слишком серь[её]зно|трудогол|баланс работы и отдыха',
             'value': 3},
        ]
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute("DELETE FROM tags")
    # ### end Alembic commands ###
